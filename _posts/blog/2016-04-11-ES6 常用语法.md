---
layout: post
title: ES6 常用语法
description: 主要记录一下，学习的情况，担心以后忘记
category: tool
---

## let、const、var
用一个表格可以表示，他们的区别和相同:

 | var  | let | const
------------- | ------------- | -------------| -------------
 变量提前 | 是 | 不是 | 不是
 有效范围 | 作用域 | 块级作用域 | 块级作用域
 是否可以更改 | 可改 | 可改 | 指向的内存是不变，<br>例如：数字、字符串、布尔值是不变，数组和对象是可以改，<br>但不能重新用其他数组或对象赋值，好比占坑不挪位置。
 是否允许重复声明 | 可以 | 在同一作用域不可以 | 在同一作用域不可以
 

## 字符串

### 模板

非常方便代替原来拼接不方便，比如原来换行需要用'\'；

~~~javascript
let age=23, name='李逍遥';
console.log(`age:${age},name:${name}`);  // age:23,name:李逍遥
~~~

### 常用
- includes：判断是否包含后直接返回布尔值。
- startsWith: 判断参数是否在字符串头部，返回布尔值。
- endsWith：判断参数是否在字符串尾部，返回布尔值。

~~~javascript
let str  = 'happy';
console.log(str.includes('h'));  // true
console.log(str.startsWith('ha')); // true
console.log(str.endsWith('ppy'));  // true
~~~


## 对象
### 初始化简写
~~~javascript
//es 5
function p(name,age)  {
	return {
		name:name,
		age:age,
		getName : function(){
			return this.name;
		}
	}
}
//es6 ,
function p(name,age) {
	return {
	//当键值对重名的时候，可以简化
		name,
		age,
	//可以省略 冒号和function关键字
		getName () {
			return this.name;
		}
	}
}
~~~

### 直接取对象值
~~~javascript
var obj = {age:21,name:'李逍遥'};
//ES 5
var age = obj.age;
var name = obj.name;

//ES 6
var {age,name }  = obj;
console.log(age);  // 21
~~~

### 浅拷贝
可以把多个源对象自身枚举的属性拷贝给目标对象，然后返回目标对象，第一个参数是目标对象，一般为了不改变源对象，目标对象一般未：{}，

~~~javascript
var o1 = {a:1};
var o2 = {b:2};
var o3 = {c:3};
var o4 = Object.assing({},o1,o2,o3);  //  {a:1,b:2,c:3}

//原型里面的属性不能拷贝
var p  =function () {}
p.prototype.name= 'wowo';
var pp = new p();
pp.age = 21;
var o = Object.assign({},pp);
console.log(o); // {age:21}
~~~
* 如果目标对象中的属性具有相同的键，则属性被源中的属性覆盖
* 后来的源的属性覆盖早先相同属性。
* 假如源对象的属性指向对象的引用，它指是拷贝引用值

> IE全系列不支持

~~~javascript
// 深拷贝，这不是es 6 的内容，对上面知识的拓展
let o = {a:1,b:{c:2,d:3}};
let g = Object.assign({},o)
let h = JSON.parse(JSON.stringify(o));
o.b.c=4;
console.log(h.b.c);  // 2
console.log(g.b.c);  // 4

~~~



### 展开运算符 (...)
用来组装对象或者数组

~~~ javascript
// 数组
let size = ['small','big'];
let resetSize  = [...size,'vbig','huge'];
console.log(resetSize); // ["small", "big", "vbig", "huge"];
//对象
const alp = { fist: 'a', second: 'b'}    
const alphabets = { ...alp, third: 'c' }; 
console.log(alphabets); //{ "fist": "a", "second": "b", "third": "c"}   
~~~

获取数组或者对象除前几项的其他项，这里必须是放到最后才能执行。

~~~javascript
 //数组
const number = [1,2,3,4,5]    
const [first, ...rest] = number
console.log(rest) // 2,3,4,5
console.log(first) // 1
//这里就和前面的解构知识点对接上。
 //对象
const user = {
	username: 'lux',
	gender: 'female',
        age: 19,
        address: 'peking'
 }    
const { username, ...rest } = user    
console.log(rest);  //{"address": "peking", "age": 19, "gender": "female"}
~~~

## 函数
### 箭头函数
ES5 写法：

~~~ javascript
var getNumber  = function(num){
	num = num || 20;
	return num +1;
}
var n = getNumber(10)
~~~

ES6 写法：

~~~javascript
//如果没有逻辑，直接返回结果，可以不用return和大括号。
let getNumber  = (num = 20) => num +1;
let n = getNumber(10)
//正常使用
let getNumber  = (num = 20) => {
	return num +1;
}
~~~

### 默认值
ES5 写法：

~~~ javascript
var getNumber  = function(num){
	num = num || 20;
	return num +1;
}
~~~
该写法，当num为0时，其实执行的是20的数字。

ES6 写法：

~~~javascript
let getNumber  = function(num =20){
	return num +1;
}
getNumber();
~~~

