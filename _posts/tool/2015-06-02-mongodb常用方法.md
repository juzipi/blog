
#mongodb 常用方法

####简介：
非关系型数据库（NoSql）：非关系型、分布式、开源的、水平可扩展

####安装：
> 这里主要是mac的安装方法

* 下载安装包
* 创建目录
	
		sudo mkdir -P /data/db
* 修改系统变量PATH，把` /Users/userName/Documents/mongodb/bin `  就是下载下来的安装目录，添加到PATH中。
		
		// 第一步
		echo 'export PATH=/Users/userName/Documents/mongodb/bin:$PATH'>>~/.bash_profile 
		//第二步 ，重启终端
		echo $PATH
		如果添加成功，会把加入的路径打印出来

* 添加操作权限
		
		sudo chown -R  用户名 /data/db
		
* 启动mongodb 

		sudo mongod


启动成功之后会开启一个服务，如果要操作数据库执行：sudo mongo

####常用方法：

* db：查看当前使用的数据库名称
* show collections：查询有多少数据集
* show dbs : 查看本地安装的所有数据库名称
* use xxx : 切换使用那个数据库
* db.xxxx.find()：查询xxx数据集下面的数据

#### 不常用方法

      db.addUser(username, password) 添加数据库授权用户
      db.auth(username, password)                访问认证
      db.cloneDatabase(fromhost) 克隆数据库
      db.commandHelp(name) returns the help for the command
      db.copyDatabase(fromdb, todb, fromhost)  复制数据库
      db.createCollection(name, { size : ..., capped : ..., max : ... } ) 创建表
      db.currentOp() displays the current operation in the db
      db.dropDatabase()        删除当前数据库
      db.eval_r(func, args) run code server-side
      db.getCollection(cname) same as db['cname'] or db.cname
      db.getCollectionNames()        获取当前数据库的表名
      db.getLastError() - just returns the err msg string
      db.getLastErrorObj() - return full status object
      db.getMongo() get the server connection object
      db.getMongo().setSlaveOk() allow this connection to read from the nonmaster member of a replica pair
      db.getName()
      db.getPrevError()
      db.getProfilingLevel()
      db.getReplicationInfo()
      db.getSisterDB(name) get the db at the same server as this onew
      db.killOp() kills the current operation in the db
      db.printCollectionStats()   打印各表的状态信息
      db.printReplicationInfo()        打印主数据库的复制状态信息
      db.printSlaveReplicationInfo()        打印从数据库的复制状态信息
      db.printShardingStatus()                打印分片状态信息
      db.removeUser(username) 删除数据库用户
      db.repairDatabase() 修复数据库
      db.resetError()
      db.runCommand(cmdObj) run a database command.  if cmdObj is a string, turns it into { cmdObj : 1 }
      db.setProfilingLevel(level) 0=off 1=slow 2=all
      db.shutdownServer()
      db.version() current version of the server

